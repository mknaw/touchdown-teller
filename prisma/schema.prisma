generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DB_PATH")
}

model Game {
  id                   Int    @id @default(autoincrement())
  week                 Int
  homeName             String @map("home")
  awayName             String @map("away")
  away                 Team   @relation("game_awayToteam", fields: [awayName], references: [key], onDelete: NoAction, onUpdate: NoAction)
  home                 Team   @relation("game_homeToteam", fields: [homeName], references: [key], onDelete: NoAction, onUpdate: NoAction)

  @@map("game")
}

model PassSeason {
  id       Int    @id @default(autoincrement())
  playerId Int    @map("player_id")
  teamName String @map("team")
  season   Int
  games    Int
  att      Int
  cmp      Int
  yds      Int
  tds      Int    @map("td")
  icpt     Int
  player   Player @relation(fields: [playerId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  team     Team   @relation("passing_season_teamToteam", fields: [teamName], references: [key], onDelete: NoAction, onUpdate: NoAction)

  @@map("passing_season")
}

model Player {
  id          Int          @id @default(autoincrement())
  adp         Int
  teamName    String       @map("team")
  position    String
  name        String
  passSeasons PassSeason[]
  team        Team         @relation("player_teamToteam", fields: [teamName], references: [key], onDelete: NoAction, onUpdate: NoAction)
  recvSeasons RecvSeason[]
  rushSeasons RushSeason[]

  @@map("player")
}

model RecvSeason {
  id       Int    @id @default(autoincrement())
  playerId Int    @map("player_id")
  teamName String @map("team")
  season   Int
  games    Int
  tgt      Int
  rec      Int
  yds      Int
  tds      Int    @map("td")
  player   Player @relation(fields: [playerId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  team     Team   @relation("receiving_season_teamToteam", fields: [teamName], references: [key], onDelete: NoAction, onUpdate: NoAction)

  @@map("receiving_season")
}

model RushSeason {
  id       Int    @id @default(autoincrement())
  playerId Int    @map("player_id")
  teamName String @map("team")
  season   Int
  games    Int
  att      Int
  yds      Int
  tds      Int    @map("td")
  fum      Int
  player   Player @relation(fields: [playerId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  team     Team   @relation("rushing_season_teamToteam", fields: [teamName], references: [key], onDelete: NoAction, onUpdate: NoAction)

  @@map("rushing_season")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model schema_migrations {
  version String? @id

  @@ignore
}

model Team {
  key         String       @id @map("name")
  awayGames   Game[]       @relation("game_awayToteam")
  homeGames   Game[]       @relation("game_homeToteam")
  passSeasons PassSeason[] @relation("passing_season_teamToteam")
  players     Player[]     @relation("player_teamToteam")
  recvSeasons RecvSeason[] @relation("receiving_season_teamToteam")
  rushSeasons RushSeason[] @relation("rushing_season_teamToteam")
  seasons     TeamSeason[] @relation("team_season_teamToteam")

  @@map("team")
}

model TeamSeason {
  id       Int    @id @default(autoincrement())
  teamName String @map("team")
  season   Int
  passAtt  Int    @map("pass_att")
  passCmp  Int    @map("cmp")
  passYds  Int    @map("pass_yds")
  passTds  Int    @map("pass_tds")
  rushAtt  Int    @map("rush_ats")
  rushYds  Int    @map("rush_yds")
  rushTds  Int    @map("rush_tds")
  team     Team   @relation("team_season_teamToteam", fields: [teamName], references: [key], onDelete: NoAction, onUpdate: NoAction)

  @@map("team_season")
}
